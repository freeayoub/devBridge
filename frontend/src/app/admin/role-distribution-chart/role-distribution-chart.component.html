<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4">
  <h2 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-4 flex items-center">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5 text-primary-light dark:text-primary-dark" viewBox="0 0 20 20" fill="currentColor">
      <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
    </svg>
    Role Distribution
  </h2>
  
  <div class="h-64 relative">
    <!-- No Data State -->
    <div *ngIf="studentCount === 0 && teacherCount === 0 && adminCount === 0" class="absolute inset-0 flex items-center justify-center">
      <div class="text-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto text-gray-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
        </svg>
        <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">No user data available</p>
      </div>
    </div>
    
    <!-- Chart Canvas -->
    <canvas #roleChart></canvas>
  </div>
  
  <!-- Role Legend (Mobile View) -->
  <div class="md:hidden mt-4 grid grid-cols-3 gap-2 text-xs">
    <div class="flex items-center">
      <div class="w-3 h-3 rounded-full bg-blue-500 mr-1"></div>
      <span class="text-gray-600 dark:text-gray-400">Students</span>
    </div>
    <div class="flex items-center">
      <div class="w-3 h-3 rounded-full bg-purple-500 mr-1"></div>
      <span class="text-gray-600 dark:text-gray-400">Teachers</span>
    </div>
    <div class="flex items-center">
      <div class="w-3 h-3 rounded-full bg-yellow-500 mr-1"></div>
      <span class="text-gray-600 dark:text-gray-400">Admins</span>
    </div>
  </div>
</div>
